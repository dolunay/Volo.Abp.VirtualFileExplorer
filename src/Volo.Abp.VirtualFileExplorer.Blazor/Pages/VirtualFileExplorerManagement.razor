@page "/VirtualFileExplorer"
@using Volo.Abp.BlazoriseUI.Components
@using Microsoft.AspNetCore.Authorization
@using Volo.Abp.BlazoriseUI.Components.ObjectExtending
@using Volo.Abp.AspNetCore.Components.Web.Theming.Layout
@using Volo.Abp.VirtualFileExplorer.Blazor.Components
@using Volo.Abp.VirtualFileExplorer.Blazor.Localization
@using Volo.Abp.VirtualFileExplorer.Blazor.Models
@inject AbpBlazorMessageLocalizerHelper<VirtualFileExplorerResource> LH

@inherits AbpReadOnlyPageBase<IVirtualFileExplorerAppService, FileInfoViewModel, string, GetVirtualFileExplorerInput>
<Card>
    <CardHeader>
        <PageHeader Title="@L["VirtualFileExplorer"]"
                    BreadcrumbItems="@BreadcrumbItems"
                    Toolbar="@Toolbar">
        </PageHeader>
    </CardHeader>
    <CardBody>
        <AbpExtensibleDataGrid TItem="FileInfoViewModel"
                               Data="@Entities"
                               ReadData="@OnDataGridReadAsync"
                               TotalItems="@TotalCount"
                               ShowPager="true"
                               PageSize="@PageSize"
                               CurrentPage="@CurrentPage"
                               Columns="@VirtualFileExplorerManagementTableColumns">
        </AbpExtensibleDataGrid>
    </CardBody>
</Card>
<FileContentModal @ref="FileContentModal" />